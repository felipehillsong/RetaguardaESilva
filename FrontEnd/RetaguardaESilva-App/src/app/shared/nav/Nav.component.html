<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm" *ngIf="nav.visible">
  <div class="container-fluid">
    <div class="collapse navbar-collapse" [collapse]="isCollapsed" [isAnimated]="true" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item" routerLinkActive="active">
        <a class="navbar-brand" routerLink="home"><i class="fa fa-users mb-2"></i></a>
  </li>
  </ul>
      <ul class="navbar-nav">
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visibleCliente">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="clientes/lista">Cliente</a>
        </li>
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visibleEstoque">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="estoques/lista">Estoque</a>
        </li>
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visibleFornecedor">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="fornecedores/lista">Fornecedor</a>
        </li>
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visibleFuncionario">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="funcionarios/lista">Funcionario</a>
        </li>
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visibleProduto">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="produtos/lista">Produto</a>
        </li>
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visibleTransportador">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="transportadores/lista">Transportador</a>
        </li>
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visiblePedido">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="pedidos/lista">Pedido</a>
        </li>
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visibleNotaFiscal">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="notasFiscais/lista">Nota Fiscal</a>
        </li>
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visibleRelatorio">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="relatorios/gerarRelatorio">Relatorio</a>
        </li>
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visibleUsuario">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="usuarios/lista">Usuario</a>
        </li>
        <li class="nav-item" routerLinkActive="active" *ngIf="nav.visibleEmpresa">
          <a class="nav-link" aria-current="page" style="font-weight: bold;" routerLink="empresas/lista">Empresa</a>
        </li>
      </ul>
    </div>
    <div>
    <ul class="navbar-nav">
        <li class="nav-item dropdown">
            <a dropdownToggle class="nav-link dropdown-toggle" aria-current="page" style="font-weight: bold; cursor: pointer;" id="navbarDropdownMenuLink" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false" href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown">{{authService.nomeUsuario()}}</a>
            <div class="dropdown-menu">
                <a (click)="openModal($event, template)" class="dropdown-item" style="cursor: pointer;">Perfil</a>
                <div class="dropdown-divider"></div>
                <a (click)="logout()" class="dropdown-item" style="cursor: pointer;">
                  Sair
                </a>
            </div>
        </li>
    </ul>
    </div>
  </div>
</nav>
<ng-template #template>
  <div class="modal-body text-center">
    <form [formGroup]="form">
    <div class="form-row">
      <div class="form-group col-md-12">
        <label class="required" id="menuAlterarSenha" style="font-weight: bold;">Nome de Usuário</label>
        <input type="text" class="form-control" [ngClass]="cssValidator(f.nome)" formControlName="nome" placeholder="Nome do Usuário" [(ngModel)]="usuario.nome">
        <div *ngIf="f.nome.errors?.required && f.nome.touched" class="invalid-feedback">
          Nome é obrigatório.
        </div>
        <div *ngIf="f.nome.errors?.minlength" class="invalid-feedback">
          Nome deve ter no mínimo 3 caracteres.
        </div>
        <div *ngIf="f.nome.errors?.maxlength" class="invalid-feedback">
          Nome deve ter no máximo 50 caracteres.
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-12">
        <label class="required" id="menuAlterarSenha" style="font-weight: bold;">Email</label>
        <input type="email" class="form-control" [ngClass]="cssValidator(f.email)" formControlName="email" placeholder="Email" [(ngModel)]="usuario.email">
        <div *ngIf="f.email.errors?.required && f.email.touched" class="invalid-feedback">
          Email é obrigatório.
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-12">
        <label id="menuAlterarSenha" style="font-weight: bold;">Senha</label>
        <input type="password" class="form-control" formControlName="senha" placeholder="Senha" [(ngModel)]="usuario.senha">

      </div>
      <div class="form-row">
        <div class="form-group col-md-12">
          <label id="menuAlterarSenha" style="font-weight: bold;">Repetir Senha</label>
          <input type="password" class="form-control" formControlName="repetirSenha" placeholder="Repetir Senha">
        </div>
    </div>
    </div>
    <br>
    <button type="button" class="btn btn-primary btn-block" [disabled]="!form.valid" (click)="confirm()" type="submit">Salvar</button> &nbsp;
    <button type="button" class="btn btn-danger" (click)="decline()" >Não</button>
  </form>
  <br>
  <label class="required">Campos Obrigatórios</label>
  </div>
</ng-template>
